(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[11],{2398:function(t,e,i){"use strict";var n=i("2708"),s=i.n(n);s.a},2708:function(t,e,i){},6588:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("q-page-container",[i("div",{staticStyle:{height:"100vh",width:"100vw"},attrs:{id:"grid-snap"},on:{dblclick:function(e){return t.addNew()}}},t._l(t.items,(function(e){return i("div",{staticClass:"item drag-drop",style:e.style,attrs:{id:e.id},on:{click:function(i){return t.itemSelected({"target:":{id:e.id}})}}},[t._v("\n      "+t._s(e)+"\n    ")])})),0),i("q-page-sticky",{attrs:{position:"right",offset:[0,0]}},[i("q-btn",{attrs:{size:"xs",icon:"fas fa-arrow-left"},on:{click:t.addNew}})],1),null!==t.selectedItem?i("q-page-sticky",{attrs:{position:"bottom",offset:[0,0]}},[i("q-card",[i("div",{staticClass:"row"},[i("div",{staticClass:"col-12"},[t._v(t._s(t.selectedItem.script))]),i("div",{staticClass:"col-12"},[i("q-input",{model:{value:t.newScriptLine,callback:function(e){t.newScriptLine=e},expression:"newScriptLine"}})],1)])])],1):t._e(),i("q-menu",{attrs:{"touch-position":"","context-menu":""},on:{show:t.itemSelected}},[i("q-list",{staticStyle:{"min-width":"100px"},attrs:{dense:""}},[i("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""}},[i("q-item-section",{on:{click:t.deleteItem}},[t._v("Delete")])],1),i("q-separator"),i("q-item",{attrs:{clickable:""}},[i("q-item-section",[t._v("Preferences")]),i("q-item-section",{attrs:{side:""}},[i("q-icon",{attrs:{name:"keyboard_arrow_right"}})],1),i("q-menu",{attrs:{anchor:"top right",self:"top left"}},[i("q-list",t._l(3,(function(e){return i("q-item",{key:e,attrs:{dense:"",clickable:""}},[i("q-item-section",[t._v("Submenu Label")]),i("q-item-section",{attrs:{side:""}},[i("q-icon",{attrs:{name:"keyboard_arrow_right"}})],1),i("q-menu",{attrs:{"auto-close":"",anchor:"top right",self:"top left"}},[i("q-list",t._l(3,(function(e){return i("q-item",{key:e,attrs:{dense:"",clickable:""}},[i("q-item-section",[t._v("3rd level Label")])],1)})),1)],1)],1)})),1)],1)],1),i("q-separator"),i("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""}},[i("q-item-section",[t._v("Quit")])],1)],1)],1)],1)},s=[],r=(i("aef6"),i("5014")),o=i.n(r);var a={name:"DragEditor",data:function(){return{items:[],n:0,newScriptLine:null,selectedItem:null}},methods:{deleteItem:function(t){console.log("Delete item ",this.selectedItem);for(var e=-1,i=0;i<this.items.length;i++)if(this.items[i].id===this.selectedItem.id){e=i;break}-1!==e&&this.items.splice(e,1)},getItemById:function(t){return this.items.filter((function(e){return e.id===t}))[0]},getItemContainerTargetBtId:function(t){return document.getElementById(t)},itemSelected:function(t){console.log("Item selected",t),this.selectedItem=this.getItemById(t.target.id)},addNew:function(){console.log("add new",arguments,this.selectedItem);var t=document.body.clientWidth/12;this.n+=1,this.items.push({name:"item "+this.n,id:"item-"+this.n,style:{top:"0",left:"0",width:2*t+"px",height:t+"px"}})}},mounted:function(){console.log("Mounted drag editor");document.body.clientWidth,document.body.clientHeight;var t=this,e=document.body.clientWidth/12;o()(".drag-drop").draggable({inertia:!0,modifiers:[o.a.modifiers.snap({targets:[o.a.createSnapGrid({x:e,y:e})],range:1/0,relativePoints:[{x:0,y:0}]}),o.a.modifiers.restrict({restriction:"#grid-snap",elementRect:{top:0,left:0,bottom:1,right:1},endOnly:!1})],listeners:{move:function(e){var i=t.items.filter((function(t){return t.id===e.target.id}))[0],n=i.style.left,s=i.style.top;n.endsWith&&n.endsWith("px")&&(n=n.substring(0,n.length-2)),s.endsWith&&s.endsWith("px")&&(s=s.substring(0,s.length-2)),n=parseFloat(n)||0,s=parseFloat(s)||0,n+=e.dx,s+=e.dy,n=parseInt(n),s=parseInt(s),i.style.left=n+"px",i.style.top=s+"px"}}}).resizable({edges:{left:!0,right:!0,top:!0,bottom:!0},modifiers:[o.a.modifiers.snapSize({targets:[{width:e},o.a.createSnapGrid({width:e,height:e})]})],invert:"reposition",onmove:function(e){var i=t.items.filter((function(t){return t.id===e.target.id}))[0];i.style.left=e.rect.left+"px",i.style.top=e.rect.top+"px",i.style.width=e.rect.width+"px",i.style.height=e.rect.height+"px"}}),this.addNew()}},c=a,l=(i("2398"),i("2877")),d=i("09e3"),m=i("de5e"),p=i("9c40"),u=i("f09f"),h=i("27f9"),f=i("4e73"),g=i("1c1c"),v=i("66e5"),y=i("4074"),b=i("eb85"),w=i("0016"),q=i("7f67"),I=i("eebe"),k=i.n(I),_=Object(l["a"])(c,n,s,!1,null,null,null);e["default"]=_.exports;k()(_,"components",{QPageContainer:d["a"],QPageSticky:m["a"],QBtn:p["a"],QCard:u["a"],QInput:h["a"],QMenu:f["a"],QList:g["a"],QItem:v["a"],QItemSection:y["a"],QSeparator:b["a"],QIcon:w["a"]}),k()(_,"directives",{ClosePopup:q["a"]})}}]);