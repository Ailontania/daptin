<!DOCTYPE html>
<html lang="en">
<head>
  
  
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    
    
    <link rel="shortcut icon" href="../../images/favicon.png">
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <title>Read, search, filter - Daptin</title>
    <link href="../../css/bootstrap-3.3.7.min.css" rel="stylesheet">
    <link href="../../css/font-awesome-4.7.0.css" rel="stylesheet">
    <link href="../../css/base.css" rel="stylesheet">
    <link rel="stylesheet" href="../../css/highlight.css">
    <link href="../../css/theme_extra.css" rel="stylesheet">
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

  <link href="https://fonts.googleapis.com/css?family=Nunito&display=swap" rel="stylesheet">

    <script src="../../js/jquery-3.2.1.min.js"></script>
    <script src="../../js/bootstrap-3.3.7.min.js"></script>
    <script src="../../js/highlight.pack.js"></script>
    
    <base target="_top">
    <script>
      var base_url = '../..';
      var is_top_frame = false;
        
        var pageToc = [
          {title: "GET /api/&lt;entityName&gt;", url: "#_top", children: [
              {title: "Parameters", url: "#parameters" },
          ]},
          {title: "Response", url: "#response", children: [
          ]},
          {title: "Examples", url: "#examples", children: [
              {title: "Curl example", url: "#curl-example" },
              {title: "jQuery ajax example", url: "#jquery-ajax-example" },
              {title: "Node js example", url: "#node-js-example" },
              {title: "Python example", url: "#python-example" },
              {title: "PHP example", url: "#php-example" },
          ]},
          {title: "Filtering", url: "#filtering", children: [
              {title: "Example", url: "#example" },
          ]},
        ];

    </script>
    <script src="../../js/base.js"></script>
      <script src="../../search/main.js"></script>
    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-114227400-1', 'docs.dapt.in');
        ga('send', 'pageview');
    </script> 
</head>

<body>
<script>
if (is_top_frame) { $('body').addClass('wm-top-page'); }
</script>



<div class="container-fluid wm-page-content">
  <a name="_top"></a>
    

    
    
      
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="../create/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="../create/" class="btn btn-xs btn-link">
        Create
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="../overview/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="../overview/" class="btn btn-xs btn-link">
        Overview
      </a>
    </div>
    
  </div>

    

    <h1 id="get-apientityname">GET /api/&lt;entityName&gt;<a class="headerlink" href="#get-apientityname" title="Permanent link">Link</a></h1>
<h2 id="parameters">Parameters<a class="headerlink" href="#parameters" title="Permanent link">Link</a></h2>
<table>
<thead>
<tr>
<th>Name</th>
<th>parameter type</th>
<th>default value</th>
<th>example value</th>
</tr>
</thead>
<tbody>
<tr>
<td>page[number]</td>
<td>integer</td>
<td>1</td>
<td>5</td>
</tr>
<tr>
<td>page[size]</td>
<td>integer</td>
<td>10</td>
<td>100</td>
</tr>
<tr>
<td>query</td>
<td>json base64</td>
<td>[]</td>
<td>[{"column": "name", "operator": "is", "value": "england"}]</td>
</tr>
<tr>
<td>group</td>
<td>string</td>
<td>-</td>
<td>[{"column": "name", "order": "desc"}]</td>
</tr>
<tr>
<td>included_relations</td>
<td>comma separated string</td>
<td>-</td>
<td>user post author</td>
</tr>
<tr>
<td>sort</td>
<td>comma seaparated string</td>
<td>-</td>
<td>created_at amount guest_count</td>
</tr>
<tr>
<td>filter</td>
<td>string</td>
<td>-</td>
<td>england</td>
</tr>
</tbody>
</table>
<h1 id="response">Response<a class="headerlink" href="#response" title="Permanent link">Link</a></h1>
<div class="admonition note">
<p class="admonition-title">Response example</p>
<div class="codehilite"><pre><span></span>{
    &quot;links&quot;: {
        &quot;current_page&quot;: 1,
        &quot;from&quot;: 0,
        &quot;last_page&quot;: 1,
        &quot;per_page&quot;: 10,
        &quot;to&quot;: 10,
        &quot;total&quot;: 1
    },
    &quot;data&quot;: [{
        &quot;type&quot;: &quot;book&quot;,
        &quot;id&quot;: &quot;29d11cb3-3fad-4972-bf3b-9cfc6da9e6a6&quot;,
        &quot;attributes&quot;: {
            &quot;__type&quot;: &quot;book&quot;,
            &quot;confirmed&quot;: 0,
            &quot;created_at&quot;: &quot;2018-04-05 15:47:29&quot;,
            &quot;title&quot;: &quot;book title&quot;,
            &quot;name&quot;: &quot;book name&quot;,
            &quot;permission&quot;: 127127127,
            &quot;reference_id&quot;: &quot;29d11cb3-3fad-4972-bf3b-9cfc6da9e6a6&quot;,
            &quot;updated_at&quot;: null,
            &quot;user_id&quot;: &quot;696c98d3-3b8b-41da-a510-08e6948cf661&quot;
        },
        &quot;relationships&quot;: {
            &quot;author_id&quot;: {
                &quot;links&quot;: {
                    &quot;related&quot;: &quot;/api/book/&lt;book-id/author_id&quot;,
                    &quot;self&quot;: &quot;/api/book/&lt;book-id&gt;/relationships/author_id&quot;
                },
                &quot;data&quot;: []
            }
        }
    }]
}
</pre></div>

</div>
<h1 id="examples">Examples<a class="headerlink" href="#examples" title="Permanent link">Link</a></h1>
<h2 id="curl-example">Curl example<a class="headerlink" href="#curl-example" title="Permanent link">Link</a></h2>
<div class="codehilite"><pre><span></span>curl &#39;/api/&lt;entityName&gt;?sort=&amp;page[number]=1&amp;page[size]=10&#39; \
  -H &#39;Authorization: Bearer &lt;AccessToken&gt;&#39;
</pre></div>


<h2 id="jquery-ajax-example">jQuery ajax example<a class="headerlink" href="#jquery-ajax-example" title="Permanent link">Link</a></h2>
<div class="codehilite"><pre><span></span>$.ajax({
    method: &quot;GET&quot;,
    url: &#39;/api/&lt;entityName&gt;?sort=&amp;page[number]=1&amp;page[size]=10&#39;,
    success: function(response){
        console.log(response.data);
    }
  })
</pre></div>


<h2 id="node-js-example">Node js example<a class="headerlink" href="#node-js-example" title="Permanent link">Link</a></h2>
<div class="codehilite"><pre><span></span><span class="kd">var</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;request&#39;</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;Authorization&#39;</span><span class="o">:</span> <span class="s1">&#39;Bearer &lt;AccessToken&gt;&#39;</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">url</span><span class="o">:</span> <span class="s1">&#39;/api/&lt;entityName&gt;?sort=&amp;page[number]=1&amp;page[size]=10&#39;</span><span class="p">,</span>
    <span class="nx">headers</span>: <span class="kt">headers</span>
<span class="p">};</span>

<span class="kd">function</span> <span class="nx">callback</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">error</span> <span class="o">&amp;&amp;</span> <span class="nx">response</span><span class="p">.</span><span class="nx">statusCode</span> <span class="o">==</span> <span class="mi">200</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="nx">callback</span><span class="p">);</span>
</pre></div>


<h2 id="python-example">Python example<a class="headerlink" href="#python-example" title="Permanent link">Link</a></h2>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;Authorization&#39;</span><span class="p">:</span> <span class="s1">&#39;Bearer &lt;AccessToken&gt;&#39;</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">params</span> <span class="o">=</span> <span class="p">(</span>
    <span class="p">(</span><span class="s1">&#39;sort&#39;</span><span class="p">,</span> <span class="s1">&#39;-created_at&#39;</span><span class="p">),</span>
    <span class="p">(</span><span class="s1">&#39;page[number]&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">),</span>
    <span class="p">(</span><span class="s1">&#39;page[size]&#39;</span><span class="p">,</span> <span class="s1">&#39;10&#39;</span><span class="p">),</span>
<span class="p">)</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;http://api.daptin.com:6336/api/laptop&#39;</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
</pre></div>


<h2 id="php-example">PHP example<a class="headerlink" href="#php-example" title="Permanent link">Link</a></h2>
<div class="codehilite"><pre><span></span><span class="cp">&lt;?php</span>
<span class="k">include</span><span class="p">(</span><span class="s1">&#39;vendor/rmccue/requests/library/Requests.php&#39;</span><span class="p">);</span>
<span class="nx">Requests</span><span class="o">::</span><span class="na">register_autoloader</span><span class="p">();</span>
<span class="nv">$headers</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;Authorization&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Bearer &lt;AccessToken&gt;&#39;</span>
<span class="p">);</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nx">Requests</span><span class="o">::</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;http://api.daptin.com:6336/api/laptop?sort=&amp;page[number]=1&amp;page[size]=10&#39;</span><span class="p">,</span> <span class="nv">$headers</span><span class="p">);</span>
</pre></div>


<h1 id="filtering">Filtering<a class="headerlink" href="#filtering" title="Permanent link">Link</a></h1>
<p>Used to search items in a table that matche the filter's conditions. Filters follow the syntax <code>query=[{"column": "&lt;column_name&gt;", "operator": "&lt;compare-operator&gt;", "value":"&lt;value&gt;"}]</code></p>
<table>
<thead>
<tr>
<th>Daptin operator</th>
<th>SQL compare operator</th>
</tr>
</thead>
<tbody>
<tr>
<td>contains</td>
<td>like  '%\<value>'</td>
</tr>
<tr>
<td>not contains</td>
<td>not like  '%\<value>'</td>
</tr>
<tr>
<td>is</td>
<td>=</td>
</tr>
<tr>
<td>is not</td>
<td>!=</td>
</tr>
<tr>
<td>before</td>
<td>&lt;</td>
</tr>
<tr>
<td>less then</td>
<td>&lt;</td>
</tr>
<tr>
<td>after</td>
<td>&gt;</td>
</tr>
<tr>
<td>more then</td>
<td>&gt;</td>
</tr>
<tr>
<td>any of</td>
<td>in</td>
</tr>
<tr>
<td>none of</td>
<td>not in</td>
</tr>
<tr>
<td>is empty</td>
<td>is null</td>
</tr>
<tr>
<td>is not empty</td>
<td>is not null</td>
</tr>
</tbody>
</table>
<h2 id="example">Example<a class="headerlink" href="#example" title="Permanent link">Link</a></h2>
<div class="codehilite"><pre><span></span>curl &#39;/api/world?query=[{&quot;column&quot;: &quot;is_hidden&quot;, &quot;operator&quot;: &quot;any of&quot;, &quot;value&quot;:&quot;1,0&quot;}] \
  -H &#39;Authorization: Bearer &lt;AccessToken&gt;&#39;
</pre></div>

  <br>
    

    
    
      
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="../create/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="../create/" class="btn btn-xs btn-link">
        Create
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="../overview/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="../overview/" class="btn btn-xs btn-link">
        Overview
      </a>
    </div>
    
  </div>

    <br>
</div>

<footer class="container-fluid wm-page-content">
      <p>
        <a href="https://github.com/daptin/daptin/edit/master/docs/apis/read.md"><i class="fa fa-github"></i>
Edit on GitHub</a>
      </p>
  <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a> using <a href="https://github.com/gristlabs/mkdocs-windmill">Windmill</a> theme by Grist Labs.</p>
</footer>

</body>
</html>