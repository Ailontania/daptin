<!DOCTYPE html>
<html lang="en">
<head>
  
  
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    
    
    <link rel="shortcut icon" href="../../images/favicon.png">
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <title>Installation - Daptin</title>
    <link href="../../css/bootstrap-3.3.7.min.css" rel="stylesheet">
    <link href="../../css/font-awesome-4.7.0.css" rel="stylesheet">
    <link href="../../css/base.css" rel="stylesheet">
    <link rel="stylesheet" href="../../css/highlight.css">
    <link href="../../css/theme_extra.css" rel="stylesheet">
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

  <link href="https://fonts.googleapis.com/css?family=Nunito&display=swap" rel="stylesheet">

    <script src="../../js/jquery-3.2.1.min.js"></script>
    <script src="../../js/bootstrap-3.3.7.min.js"></script>
    <script src="../../js/highlight.pack.js"></script>
    
    <base target="_top">
    <script>
      var base_url = '../..';
      var is_top_frame = false;
        
        var pageToc = [
          {title: "Installation", url: "#_top", children: [
              {title: "Deploy and get started", url: "#deploy-and-get-started" },
              {title: "Native binary", url: "#native-binary" },
              {title: "Heroku deployment", url: "#heroku-deployment" },
              {title: "Docker-compose", url: "#docker-compose" },
              {title: "Kubernetes deployment", url: "#kubernetes-deployment" },
          ]},
          {title: "Database configuration", url: "#database-configuration", children: [
              {title: "MySQL", url: "#mysql" },
              {title: "PostgreSQL", url: "#postgresql" },
              {title: "SQLite", url: "#sqlite" },
          ]},
          {title: "Port", url: "#port", children: [
          ]},
          {title: "Restart", url: "#restart", children: [
          ]},
        ];

    </script>
    <script src="../../js/base.js"></script>
      <script src="../../search/main.js"></script>
    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-114227400-1', 'docs.dapt.in');
        ga('send', 'pageview');
    </script> 
</head>

<body>
<script>
if (is_top_frame) { $('body').addClass('wm-top-page'); }
</script>



<div class="container-fluid wm-page-content">
  <a name="_top"></a>
    

    
    
      
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="../settingup/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="../settingup/" class="btn btn-xs btn-link">
        Getting started
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="../.." class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="../.." class="btn btn-xs btn-link">
        Introduction
      </a>
    </div>
    
  </div>

    

    <h1 id="installation">Installation<a class="headerlink" href="#installation" title="Permanent link">Link</a></h1>
<h2 id="deploy-and-get-started">Deploy and get started<a class="headerlink" href="#deploy-and-get-started" title="Permanent link">Link</a></h2>
<table>
<thead>
<tr>
<th>Deployment preference</th>
<th>Getting started</th>
</tr>
</thead>
<tbody>
<tr>
<td>Heroku</td>
<td><a href="https://heroku.com/deploy?template=https://github.com/daptin/daptin"><img alt="Deploy" src="https://www.herokucdn.com/deploy/button.svg" /></a></td>
</tr>
<tr>
<td>Docker</td>
<td>docker run -p 8080:8080 daptin/daptin</td>
</tr>
<tr>
<td>Kubernetes</td>
<td><a href="#kubernetes">Service &amp; Deployment YAML</a></td>
</tr>
<tr>
<td>Development</td>
<td>go get github.com/daptin/daptin</td>
</tr>
<tr>
<td>Linux (386/amd64/arm5,6,7)</td>
<td><a href="https://github.com/daptin/daptin/releases">Download static linux builds</a></td>
</tr>
<tr>
<td>Windows</td>
<td>go get github.com/daptin/daptin</td>
</tr>
<tr>
<td>OS X</td>
<td>go get github.com/daptin/daptin</td>
</tr>
<tr>
<td>Load testing</td>
<td><a href="#docker-compose">Docker compose</a></td>
</tr>
<tr>
<td>Raspberry Pi</td>
<td><a href="https://github.com/daptin/daptin/releases">Linux arm 7 static build</a></td>
</tr>
</tbody>
</table>
<h2 id="native-binary">Native binary<a class="headerlink" href="#native-binary" title="Permanent link">Link</a></h2>
<p>Daptin is available as a native binary. You can download the binary for the following os from <a href="https://github.com/daptin/daptin/releases">github releases</a></p>
<ul>
<li>Windows 32/64</li>
<li>OS X  64</li>
<li>Linux  32/64/arm/mips</li>
</ul>
<p><a href="https://github.com/daptin/daptin/releases">https://github.com/daptin/daptin/releases</a></p>
<p>Execute <code>./daptin</code> to run daptin.</p>
<p>It will create a sqlite database on the disk and start listening on port 6336.</p>
<p>Arguments:</p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Definition</th>
</tr>
</thead>
<tbody>
<tr>
<td>port</td>
<td>set the port to listen</td>
</tr>
<tr>
<td>db_type</td>
<td>mysql/postgres/sqlite3</td>
</tr>
<tr>
<td>db_connection_string</td>
<td>SQLite: <code>test.db</code> <br>MySql: <code>&lt;username&gt;:&lt;password&gt;@tcp(&lt;hostname&gt;:&lt;port&gt;)/&lt;db_name&gt;</code> <br>Postgres: <code>host=&lt;hostname&gt; port=&lt;port&gt; user=&lt;username&gt; password=&lt;password&gt; dbname=&lt;db_name&gt; sslmode=enable/disable</code></td>
</tr>
</tbody>
</table>
<h2 id="heroku-deployment">Heroku deployment<a class="headerlink" href="#heroku-deployment" title="Permanent link">Link</a></h2>
<p>Heroku is the best way to test out a live instance of daptin. Daptin has a very low memory footprint and can run smoothly even on heroku's smallest instance.</p>
<p><a href="https://heroku.com/deploy?template=https://github.com/daptin/daptin"><img alt="Deploy" src="https://www.herokucdn.com/deploy/button.svg" /></a></p>
<p>Note: Heroku puts instances to sleep after 30 minutes of idleness, which will erase all the data. It will behave like a fresh instance when it wakes up. You can subscribe to their minimum paid plan to remove this sleep due to idleness.</p>
<h3 id="docker-image">Docker image<a class="headerlink" href="#docker-image" title="Permanent link">Link</a></h3>
<p>Deploy the docker image</p>
<p>Start <code>daptin</code> on your machine using docker</p>
<p><code>docker run -p 8080:8080 daptin/daptin</code></p>
<p><a target=_blank href=https://hub.docker.com/r/daptin/daptin/>
    <img width="200px" class="cloud-provider" src="/images/aws.png">
    <img width="200px" class="cloud-provider" src="/images/digitalocean.jpg">
    <img width="200px" class="cloud-provider" src="/images/gce.png">
    <img width="200px" class="cloud-provider" src="/images/linode.jpg">
    <img width="200px" class="cloud-provider" src="/images/azure.jpg">
    <img width="200px" class="cloud-provider" src="/images/docker.png">
</a></p>
<p><a href="https://hub.docker.com/r/daptin/daptin/">https://hub.docker.com/r/daptin/daptin/</a></p>
<h2 id="docker-compose">Docker-compose<a class="headerlink" href="#docker-compose" title="Permanent link">Link</a></h2>
<p>Docker compose is a great tool to bring up a mysql/postgres backed daptin instance</p>
<div class="codehilite"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">version</span><span class="p p-Indicator">:</span> <span class="s">&#39;3&#39;</span>
<span class="l l-Scalar l-Scalar-Plain">services</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">web</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">image</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">daptin/daptin</span>
        <span class="l l-Scalar l-Scalar-Plain">ports</span><span class="p p-Indicator">:</span>
            <span class="p p-Indicator">-</span> <span class="s">&quot;8090:8080&quot;</span>
        <span class="l l-Scalar l-Scalar-Plain">restart</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">always</span>
        <span class="l l-Scalar l-Scalar-Plain">environment</span><span class="p p-Indicator">:</span>
          <span class="l l-Scalar l-Scalar-Plain">DAPTIN_PORT</span><span class="p p-Indicator">:</span> <span class="s">&#39;8080&#39;</span>
          <span class="l l-Scalar l-Scalar-Plain">DAPTIN_DB_TYPE</span><span class="p p-Indicator">:</span> <span class="s">&#39;mysql&#39;</span>
          <span class="l l-Scalar l-Scalar-Plain">DAPTIN_DB_CONNECTION_STRING</span><span class="p p-Indicator">:</span> <span class="s">&#39;dev:dev@tcp(mysqldb:3306)/daptin&#39;</span>
        <span class="l l-Scalar l-Scalar-Plain">depends_on</span><span class="p p-Indicator">:</span>
            <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">mysqldb</span>
    <span class="l l-Scalar l-Scalar-Plain">mysqldb</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">image</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">mysql</span>
        <span class="l l-Scalar l-Scalar-Plain">container_name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">${MYSQL_HOST}</span>
        <span class="l l-Scalar l-Scalar-Plain">restart</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">always</span>
        <span class="l l-Scalar l-Scalar-Plain">env_file</span><span class="p p-Indicator">:</span>
            <span class="p p-Indicator">-</span> <span class="s">&quot;.env&quot;</span>
        <span class="l l-Scalar l-Scalar-Plain">environment</span><span class="p p-Indicator">:</span>
            <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">MYSQL_DATABASE=${MYSQL_DATABASE}</span>
            <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">MYSQL_ROOT_PASSWORD=${MYSQL_ROOT_PASSWORD}</span>
            <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">MYSQL_USER=${MYSQL_USER}</span>
            <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">MYSQL_PASSWORD=${MYSQL_PASSWORD}</span>
        <span class="l l-Scalar l-Scalar-Plain">ports</span><span class="p p-Indicator">:</span>
            <span class="p p-Indicator">-</span> <span class="s">&quot;8989:3306&quot;</span>
        <span class="l l-Scalar l-Scalar-Plain">volumes</span><span class="p p-Indicator">:</span>
            <span class="p p-Indicator">-</span> <span class="s">&quot;./data/db/mysql:/var/lib/mysql&quot;</span>
</pre></div>

<h2 id="kubernetes-deployment">Kubernetes deployment<a class="headerlink" href="#kubernetes-deployment" title="Permanent link">Link</a></h2>
<p>Daptin can be infinitely scaled on kubernetes</p>
<div class="admonition example">
<p class="admonition-title">Example</p>
<div class="codehilite"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">apiVersion</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">v1</span>
<span class="l l-Scalar l-Scalar-Plain">kind</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Service</span>
<span class="l l-Scalar l-Scalar-Plain">metadata</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">daptin-instance</span>
  <span class="l l-Scalar l-Scalar-Plain">labels</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">app</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">daptin</span>
<span class="l l-Scalar l-Scalar-Plain">spec</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">ports</span><span class="p p-Indicator">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">port</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">8080</span>
  <span class="l l-Scalar l-Scalar-Plain">selector</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">app</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">daptin</span>
    <span class="l l-Scalar l-Scalar-Plain">tier</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">production</span>
<span class="nn">---</span>
<span class="l l-Scalar l-Scalar-Plain">apiVersion</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">extensions/v1beta1</span>
<span class="l l-Scalar l-Scalar-Plain">kind</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Deployment</span>
<span class="l l-Scalar l-Scalar-Plain">metadata</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">daptin-daptin</span>
  <span class="l l-Scalar l-Scalar-Plain">labels</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">app</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">daptin</span>
<span class="l l-Scalar l-Scalar-Plain">spec</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">strategy</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Recreate</span>
  <span class="l l-Scalar l-Scalar-Plain">template</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">metadata</span><span class="p p-Indicator">:</span>
      <span class="l l-Scalar l-Scalar-Plain">labels</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">app</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">daptin</span>
        <span class="l l-Scalar l-Scalar-Plain">tier</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">testing</span>
    <span class="l l-Scalar l-Scalar-Plain">spec</span><span class="p p-Indicator">:</span>
      <span class="l l-Scalar l-Scalar-Plain">containers</span><span class="p p-Indicator">:</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">image</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">daptin/daptin:latest</span>
        <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">daptin</span>
        <span class="l l-Scalar l-Scalar-Plain">args</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">[</span><span class="s">&#39;-db_type&#39;</span><span class="p p-Indicator">,</span> <span class="s">&#39;mysql&#39;</span><span class="p p-Indicator">,</span> <span class="s">&#39;-db_connection_string&#39;</span><span class="p p-Indicator">,</span> <span class="s">&#39;user:password@tcp(&lt;mysql_service&gt;:3306)/daptin&#39;</span><span class="p p-Indicator">]</span>
        <span class="l l-Scalar l-Scalar-Plain">ports</span><span class="p p-Indicator">:</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">containerPort</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">8080</span>
          <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">daptin</span>
<span class="nn">---</span>
<span class="l l-Scalar l-Scalar-Plain">apiVersion</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">extensions/v1beta1</span>
<span class="l l-Scalar l-Scalar-Plain">kind</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Ingress</span>
<span class="l l-Scalar l-Scalar-Plain">metadata</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">daptin-test</span>
<span class="l l-Scalar l-Scalar-Plain">spec</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">rules</span><span class="p p-Indicator">:</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">host</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">hello.website</span>
    <span class="l l-Scalar l-Scalar-Plain">http</span><span class="p p-Indicator">:</span>
      <span class="l l-Scalar l-Scalar-Plain">paths</span><span class="p p-Indicator">:</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">backend</span><span class="p p-Indicator">:</span>
          <span class="l l-Scalar l-Scalar-Plain">serviceName</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">daptin-testing</span>
          <span class="l l-Scalar l-Scalar-Plain">servicePort</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">8080</span>
</pre></div>

</div>
<h1 id="database-configuration">Database configuration<a class="headerlink" href="#database-configuration" title="Permanent link">Link</a></h1>
<p>Daptin can use one of the following database for data persistence</p>
<ul>
<li>Mysql</li>
<li>Postgres</li>
<li>SQLite [Default]</li>
</ul>
<p>If nothing specified, a <strong>sqlite</strong> database is created on the local file system and is used for all purposes. (uploads/blobs are not stored in database)</p>
<p>You can customise the database connection properties when starting daptin</p>
<h2 id="mysql">MySQL<a class="headerlink" href="#mysql" title="Permanent link">Link</a></h2>
<p>To use mysql, start daptin as follows</p>
<p><code>./daptin -db_type=mysql -db_connection_string='&lt;username&gt;:&lt;password&gt;@tcp(&lt;hostname&gt;:&lt;port&gt;)/&lt;db_name&gt;'</code></p>
<h2 id="postgresql">PostgreSQL<a class="headerlink" href="#postgresql" title="Permanent link">Link</a></h2>
<p><code>./daptin -db_type=postgres -db_connection_string='host=&lt;hostname&gt; port=&lt;port&gt; user=&lt;username&gt; password=&lt;password&gt; dbname=&lt;db_name&gt; sslmode=enable/disable'</code></p>
<h2 id="sqlite">SQLite<a class="headerlink" href="#sqlite" title="Permanent link">Link</a></h2>
<p>By default a "daptin.db" file is created to store data</p>
<p><code>./daptin -db_type=sqlite -db_connection_string=db_file_name.db</code></p>
<h1 id="port">Port<a class="headerlink" href="#port" title="Permanent link">Link</a></h1>
<p>Daptin will listen on port 6336 by default. You can change it by using the following argument</p>
<p><code>-port :8080</code></p>
<h1 id="restart">Restart<a class="headerlink" href="#restart" title="Permanent link">Link</a></h1>
<p>Daptin relies on self re-configuration to configure new entities and APIs and changes to the other parts of the ststem. As soon as you upload a schema file, daptin will write the file to disk, and <code>reconfigure</code> itself. When it starts it will read the schema file, make appropriate changes to the database and expose JSON apis for the entities and actions.</p>
<p>You can issue a daptin restart from the dashboard. Daptin takes about 15 seconds approx to start up and configure everything.</p>

  <br>
    

    
    
      
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="../settingup/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="../settingup/" class="btn btn-xs btn-link">
        Getting started
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="../.." class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="../.." class="btn btn-xs btn-link">
        Introduction
      </a>
    </div>
    
  </div>

    <br>
</div>

<footer class="container-fluid wm-page-content">
      <p>
        <a href="https://github.com/daptin/daptin/edit/master/docs/setting-up/installation.md"><i class="fa fa-github"></i>
Edit on GitHub</a>
      </p>
  <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a> using <a href="https://github.com/gristlabs/mkdocs-windmill">Windmill</a> theme by Grist Labs.</p>
</footer>

</body>
</html>